<html>
	<head>
		<script type="text/javascript">

function changeState(e)
{

	document.getElementById("text").innerHTML = e.value;
	window.history.pushState("this field is annoying", e.value, "/#" + e.value);

	return false;
}

function readURI()
{
	if(location.href.indexOf("#") != -1)
		document.getElementById("text").innerHTML = 
			location.href.substr(location.href.indexOf("#")+1);
}

		</script>
	</head>

	<body onload="readURI();">

		<div id="text">test</div>

		<form name="newTextForm" onsubmit="return changeState(this.newText);" >
			<input type="text" name="newText" />
			<input type="submit" value="Submit" />
		</form>

	</body>
</head>
